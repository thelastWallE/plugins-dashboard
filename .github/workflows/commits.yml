# This is a basic workflow to help you get started with Actions

name: CI

# Controls when the action will run. 
on:
  # Triggers the workflow on push or pull request events but only for the gh-pages branch
  push:
    branches: [ gh-pages ]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
jobs:
  gitlog-and-write:
    runs-on: ubuntu-latest
    steps:
      - name: get gitlog
        uses : fnkr/github-action-git-bash@v1
        with:
          args: "['bash', '-c', 'git log $(git describe --abbrev=0 --tags $(git rev-list --tags --skip=2 --max-count=5))..HEAD --pretty=format:/'%cs: %s/' --no-merges > ./myfile.txt']"
      - name: write logfile
        uses: DamianReeves/write-file-action@v1.0
        with:
          path: ${{ env.home}}/.bashrc
          contents: |
            echo "Hello World!"
          write-mode: overwrite
